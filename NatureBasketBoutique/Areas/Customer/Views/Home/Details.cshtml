@model NatureBasketBoutique.Models.ShoppingCart

@{
    ViewData["Title"] = "Product Details";
}

<form method="post">
    <input asp-for="ProductId" hidden />

    <div class="container mx-auto px-4 py-10">
        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100">

            <div class="grid grid-cols-1 lg:grid-cols-2">

                <div class="relative h-96 lg:h-auto bg-gray-100 flex items-center justify-center p-6 group overflow-hidden">
                    <img src="@Model.Product.ImageUrl"
                         class="object-contain max-h-[500px] w-full transform transition duration-500 group-hover:scale-105"
                         alt="@Model.Product.Title">

                    <div class="absolute top-4 left-4 bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide shadow-md">
                        @Model.Product.Category.Name
                    </div>
                </div>

                <div class="p-8 lg:p-12 flex flex-col justify-between">
                    <div>
                        <div class="flex justify-between items-start">
                            <div>
                                <h1 class="text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight mb-2">
                                    @Model.Product.Title
                                </h1>
                                <p class="text-sm text-gray-500 font-medium mb-4">
                                    Category: <span class="text-green-700 font-bold">@Model.Product.Category.Name</span>
                                </p>
                            </div>
                            <a asp-action="Index" class="text-gray-400 hover:text-green-600 transition">
                                <i class="bi bi-x-circle-fill text-3xl"></i>
                            </a>
                        </div>

                        <div class="flex items-center mb-6">
                            <div class="flex text-yellow-400 text-sm">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                            </div>
                            <span class="text-xs text-gray-500 ml-2">(4.5/5 Reviews)</span>
                        </div>

                        <div class="prose prose-sm text-gray-600 mb-8 border-t border-b border-gray-100 py-4">
                            @Html.Raw(Model.Product.Description)
                        </div>

                        <div class="flex items-end gap-4 mb-8">
                            <div>
                                <p class="text-sm text-gray-400 line-through mb-1">List Price: NPR @Model.Product.ListPrice.ToString("0.00")</p>
                                <p class="text-4xl font-bold text-green-700">
                                    NPR @Model.Product.Price.ToString("0.00")
                                </p>
                            </div>
                            @if (Model.Product.ListPrice > Model.Product.Price)
                            {
                                <span class="mb-2 bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded">
                                    SAVE @((Model.Product.ListPrice - Model.Product.Price).ToString("0.00"))
                                </span>
                            }
                        </div>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-6 border border-gray-100">
                        <div class="flex flex-col sm:flex-row gap-4 items-center">

                            <div class="w-full sm:w-1/3">
                                <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Quantity</label>
                                <div class="relative">
                                    <input asp-for="Count" type="number" value="1" min="1" max="1000"
                                           class="w-full pl-4 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 font-bold text-center text-gray-700" />
                                </div>
                            </div>

                            <div class="w-full sm:w-2/3">
                                <label class="block text-xs font-bold text-transparent uppercase mb-1">Action</label>
                                <button type="submit"
                                        class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5 flex items-center justify-center gap-2">
                                    <i class="bi bi-cart-plus-fill text-xl"></i>
                                    Add to Cart
                                </button>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="mt-6 text-center">
            <a asp-action="Index" class="text-green-600 font-semibold hover:underline">
                <i class="bi bi-arrow-left"></i> Continue Shopping
            </a>
        </div>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}